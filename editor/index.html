<!DOCTYPE html>
<html>
    <head>
        <link href="css/editor.css" rel="stylesheet" type="text/css"></link>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
    </head>
    <body role="application">
        <script src="modes/javascript.js"></script>
        <script src="js/emitter.js"></script>
        <script src="js/model.js"></script>
        <script src="js/highlighter.js"></script>
        <script src="js/input.js"></script>
        <script src="js/selections.js"></script>
        <script src="js/commands.js"></script>
        <script src="js/render.js"></script>
        <script>
            var editor;
            async function go() {
                var content = await (await fetch('text/minified.js')).text();

                editor = new Editor(new Model(content.repeat(1)), {padBottom: true, lineNumbers: true});
                document.body.appendChild(editor.element);
                editor.layout();
                window.addEventListener('resize', event => editor.layout(), false);
            }
            if (document.location.search !== "?test")
                go();
        </script>
    </body>
</html>