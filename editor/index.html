<!DOCTYPE html>
<html>
    <head>
        <link href="css/editor.css" rel="stylesheet" type="text/css"></link>
    </head>
    <body>
        <script src="modes/javascript.js"></script>
        <script src="js/emitter.js"></script>
        <script src="js/model.js"></script>
        <script src="js/highlighter.js"></script>
        <script src="js/render.js"></script>
        <script>
            async function go() {
                var content = await (await fetch('js/highlighter.js')).text();

                var editor = new Editor(new Model(content.repeat(1)), {padBottom: true, lineNumbers: false});
                document.body.appendChild(editor.element);
                editor.layout();
                window.addEventListener('resize', event => editor.layout(), false);
            }
            go();
        </script>
    </body>
</html>